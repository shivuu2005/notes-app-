plugins {
    id "com.android.application"
    id "kotlin-android"
    // The Flutter Gradle Plugin must be applied after the Android and Kotlin Gradle plugins.
    id "dev.flutter.flutter-gradle-plugin"
}

android {
    compileSdkVersion 33

    defaultConfig {
        applicationId "com.yourcompany.notesapp"
        minSdkVersion 21
        targetSdkVersion 33
        versionCode flutterVersionCode.toInteger()
        versionName flutterVersionName
    }

    signingConfigs {
        release {
            if (project.hasProperty("keyProperties")) {
                def keystorePropertiesFile = rootProject.file("android/app/key.properties")
                def keystoreProperties = new Properties()
                keystoreProperties.load(new FileInputStream(keystorePropertiesFile))

                storeFile file(keystoreProperties["storeFile"])  // Keystore file path
                storePassword keystoreProperties["storePassword"]  // Keystore password
                keyAlias keystoreProperties["keyAlias"]  // Key alias
                keyPassword keystoreProperties["keyPassword"]  // Key password
            }
        }
    }

    buildTypes {
        release {
            signingConfig signingConfigs.release
            minifyEnabled false // Proguard or R8 may be enabled if you want to obfuscate your code
            shrinkResources false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }

    lintOptions {
        checkReleaseBuilds false
        // Add any lint rules you want to exclude here
    }

    packagingOptions {
        // Exclude files you don't want in your APK (optional)
        exclude 'META-INF/LICENSE'
        exclude 'META-INF/NOTICE'
    }
}

flutter {
    source = "../.."
}
